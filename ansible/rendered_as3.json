{
  "class": "AS3",
  "action": "deploy",
  "persist": true,
  "declaration": {
    "class": "ADC",
    "schemaVersion": "3.0.0",
    "id": "auto-irules",
    "Tenant1": {
      "class": "Tenant",
      "App1": {
        "class": "Application",

                "irule1": {
          "class": "iRule",
          "iRule": "when HTTP_REQUEST {\r\n  log local0. \"iRule1 triggered\"\r\n}"
        },                "irule2": {
          "class": "iRule",
          "iRule": "when HTTP_RESPONSE {\r\n  log local0. \"iRule2 triggered\"\r\n}"
        }        ,

        "myPool": {
          "class": "Pool",
          "monitors": ["http"],
          "members": [
            {
              "servicePort": 80,
              "serverAddresses": ["192.0.2.10"]
            }
          ]
        },

        "service": {
          "class": "Service_HTTP",
          "virtualAddresses": ["10.0.0.101"],
          "pool": "myPool",
          "iRules": [
                          "irule1",                          "irule2"                      ]
        }
      }
    }
  }
}